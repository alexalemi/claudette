#!/bin/bash
# Usage: ask-claude [--code|-c] "Your question here"
#   --code, -c  Open in Claude Code web instead of regular Claude

# Parse flags
use_code=false
while [[ "$1" == -* ]]; do
    case "$1" in
        -c|--code) use_code=true; shift ;;
        *) shift ;;
    esac
done

# Get question from argument or prompt
question="$*"
if [ -z "$question" ]; then
    question=$(zenity --entry --title="Ask Claude" --text="Enter your question:" --width=400 2>/dev/null)
    [ -z "$question" ] && exit 0
fi

# URL-encode the question and open browser
encoded=$(printf '%s' "$question" | jq -sRr @uri)
if $use_code; then
    xdg-open "https://claude.ai/code?q=${encoded}"
else
    xdg-open "https://claude.ai/new?q=${encoded}"
fi
